<!DOCTYPE html>
<html>
  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <link href='https://fonts.googleapis.com/css?family=Chivo:900' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen" />
    <link rel="stylesheet" type="text/css" href="stylesheets/pygment_trac.css" media="screen" />
    <link rel="stylesheet" type="text/css" href="stylesheets/print.css" media="print" />
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <title>Vk.api by fdcore</title>
  </head>

  <body>
    <div id="container">
      <div class="inner">

        <header>
          <h1>Vk.api</h1>
          <h2>Vkontakte standalone php api</h2>
        </header>

        <section id="downloads" class="clearfix">
          <a href="https://github.com/fdcore/vk.api/zipball/master" id="download-zip" class="button"><span>Download .zip</span></a>
          <a href="https://github.com/fdcore/vk.api/tarball/master" id="download-tar-gz" class="button"><span>Download .tar.gz</span></a>
          <a href="https://github.com/fdcore/vk.api" id="view-on-github" class="button"><span>View on GitHub</span></a>
        </section>

        <hr>

        <section id="main_content">
          <h1>
<a name="vkapi" class="anchor" href="#vkapi"><span class="octicon octicon-link"></span></a>vk.api</h1>

<p>Работа с API Вконтакте для StandAlone приложений на языке php.</p>

<p>Для работы с api вам необходимо выполнить несколько действий:</p>

<ol>
<li>Создать "Standalone-приложение" <a href="https://vk.com/editapp?act=create">https://vk.com/editapp?act=create</a>
</li>
<li>Получить access_token (об этом ниже)</li>
<li>Классу нужно передать client_id приложения и секретный ключ который вам даётся при создании приложения</li>
</ol><h2>
<a name="%D0%9F%D0%BE%D0%BB%D1%83%D1%87%D0%B5%D0%BD%D0%B8%D0%B5-access_token" class="anchor" href="#%D0%9F%D0%BE%D0%BB%D1%83%D1%87%D0%B5%D0%BD%D0%B8%D0%B5-access_token"><span class="octicon octicon-link"></span></a>Получение access_token</h2>

<p>Выполним метод get_code_token для получения ссылки которая вернёт нам code</p>

<pre><code>include('vk.api.php');
$v = new Vk($config);
$url = $v-&gt;get_code_token();

echo $url;
</code></pre>

<p>Переменная $url будет содержать ссылку при переходе на которую вас попросят авторизоваться и предоставить права приложению, после чего вас перекинут на пустую страницу и в URL будет code=&lt;нужный код&gt;.</p>

<p>Для получения токена и owner_id выполните метод get_token</p>

<pre><code>$response = $v-&gt;get_token('ff604712f10b2b6ac0');

var_dump($response);
</code></pre>

<h1>
<a name="%D0%92%D1%8B%D0%BF%D0%BE%D0%BB%D0%BD%D0%B5%D0%BD%D0%B8%D0%B5-api" class="anchor" href="#%D0%92%D1%8B%D0%BF%D0%BE%D0%BB%D0%BD%D0%B5%D0%BD%D0%B8%D0%B5-api"><span class="octicon octicon-link"></span></a>Выполнение Api</h1>

<p>Для выполнения определённых Api вам необходимы на это права, для этого при создании токена нужно указать нужные scope.</p>

<pre><code>$config['secret_key'] = 'ваш секретный ключ приложения';
$config['client_id'] = 0; // номер приложения
$config['user_id'] = 0; // id текущего пользователя (не обязательно)
$config['access_token'] = 'ваш токен доступа';
$config['scope'] = 'wall,photos,video'; // права доступа к методам (для генерации токена)

$v = new Vk($config);

// пример публикации сообщения на стене пользователя
// значения массива соответствуют значениям в Api https://vk.com/dev/wall.post

$response = $v-&gt;api('wall.post', array('message' =&gt; 'I testing API form https://github.com/fdcore/vk.api'));
</code></pre>
        </section>

        <footer>
          Vk.api is maintained by <a href="https://github.com/fdcore">fdcore</a><br>
          This page was generated by <a href="http://pages.github.com">GitHub Pages</a>. Tactile theme by <a href="https://twitter.com/jasonlong">Jason Long</a>.
        </footer>

        
      </div>
    </div>
  </body>
</html>